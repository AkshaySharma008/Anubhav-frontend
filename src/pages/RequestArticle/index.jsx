import axios from 'axios';
import React, { Component } from 'react'
import './index.scss';

class RequestArticle extends Component {
    state = {
        requestDetail: {
            name:'',
            senior:'',
            company:'',
            socialLink:'',
            note:'',
        },
        isChange: false
    }

    handleInputValue = key => e => {
        const { requestDetail } = this.state;
        requestDetail[key] = e.target.value;
        this.setState({ requestDetail })
        this.setState({ isAnyChange: true })
    }

    handleSubmitForm = (e) => {
    
        e.preventDefault();
        const { requestDetail } = this.state;

        // let fstring = JSON.stringify(requestDetail);
        //alert(fstring)
        const payload = {
            "requesterName": requestDetail.name,
            "requesteeName": requestDetail.senior,
            "requesteeContact": requestDetail.socialLink,
            "company": requestDetail.company,
            "note": requestDetail.note
        }
        //alert(JSON.stringify(payload))
        const apiUrl = '/api/v1/request';

        axios.post(apiUrl, payload).then((res) => {
            alert("Successfully uploaded")
        }).catch((err) => {
            alert("Error while uploading")
            console.log(err);
        })

    }
    render() {
        const {requestDetail } = this.state
        return (
            <>
            <svg className="requestArticleSVG" width="656" height="426" viewBox="0 0 656 426" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M119.565 24.8771C68.1754 65.7791 120.558 94.5818 84.9704 117.503C49.383 140.424 -78.2443 247.304 70.1759 335.995C218.596 424.686 207.652 453.278 313.59 397.13C419.528 340.982 411.932 330.887 499.126 368.849C586.319 406.81 663.05 352.247 655.391 276.423C648.12 204.455 595.75 208.448 631.127 163.672C666.504 118.896 596.659 -47.4148 474.867 48.3139C353.076 144.043 291.365 115.026 277.994 79.2258C264.622 43.426 200.772 -39.7658 119.565 24.8771Z" fill="url(#paint0_linear)"/>
<path d="M43.2072 51.5563C78.8938 72.4172 281.417 201.984 189.32 406.862C189.32 406.862 33.1928 354.623 37.8405 54.4044C37.8511 53.8057 38.0256 53.2203 38.3463 52.7073C38.6671 52.1944 39.1228 51.7721 39.6673 51.4831C40.2118 51.1941 40.8259 51.0487 41.4475 51.0615C42.069 51.0744 42.6761 51.2451 43.2072 51.5563Z" fill="#91B3FA"/>
<path d="M58.9613 89.0165C58.9613 89.0165 70.7175 104.613 87.365 128.655L93.8207 138.043C96.0267 141.305 98.307 144.672 100.661 148.143C102.984 151.62 105.393 155.189 107.8 158.863L111.47 164.426C112.691 166.307 113.924 168.204 115.167 170.116C120.149 177.768 125.191 185.739 130.268 193.875C132.777 197.954 135.302 202.062 137.843 206.197C140.331 210.355 142.873 214.504 145.331 218.699C147.788 222.895 150.282 227.073 152.665 231.288C153.868 233.392 155.071 235.49 156.275 237.581C157.478 239.673 158.618 241.783 159.785 243.869L163.251 250.118L166.602 256.348C168.849 260.462 170.967 264.579 173.064 268.624C177.245 276.713 181.126 284.611 184.672 292.165C188.219 299.718 191.423 306.921 194.211 313.643C195.664 316.981 196.919 320.237 198.122 323.323C198.724 324.868 199.312 326.372 199.888 327.834C200.444 329.303 200.938 330.732 201.443 332.134C202.421 334.921 203.405 337.508 204.196 339.939C204.987 342.37 205.7 344.61 206.335 346.632L207.237 349.501C207.49 350.41 207.724 351.265 207.944 352.059L209.06 356.092C209.662 358.283 209.99 359.45 209.99 359.45C210.031 359.599 210.041 359.754 210.02 359.906C209.999 360.059 209.947 360.205 209.867 360.338C209.787 360.472 209.68 360.588 209.553 360.682C209.427 360.775 209.282 360.843 209.128 360.883C208.973 360.923 208.813 360.932 208.654 360.912C208.496 360.892 208.344 360.842 208.205 360.765C208.067 360.688 207.946 360.585 207.849 360.463C207.752 360.341 207.681 360.201 207.64 360.053V360.004C207.64 360.004 207.339 358.845 206.738 356.672C206.437 355.585 206.076 354.247 205.649 352.67C205.435 351.882 205.204 351.036 204.96 350.132C204.716 349.228 204.382 348.287 204.057 347.281C203.426 345.273 202.725 343.051 201.952 340.617C201.178 338.184 200.21 335.625 199.244 332.85C198.751 331.467 198.264 330.03 197.719 328.57C197.175 327.11 196.576 325.615 195.98 324.076C194.777 320.999 193.574 317.754 192.136 314.425C189.392 307.721 186.225 300.518 182.732 292.985C179.239 285.452 175.398 277.551 171.259 269.461C169.189 265.405 167.092 261.302 164.869 257.185C163.77 255.122 162.667 253.046 161.56 250.956L158.128 244.703C156.973 242.614 155.835 240.505 154.653 238.41L151.088 232.114C148.727 227.896 146.254 223.712 143.824 219.514C141.393 215.315 138.869 211.16 136.405 207C133.89 202.866 131.383 198.753 128.885 194.66C123.852 186.524 118.852 178.539 113.907 170.873L110.237 165.174L106.609 159.599C104.22 155.916 101.829 152.356 99.5213 148.856C97.214 145.356 94.9247 142.003 92.7347 138.732L86.3182 129.322C82.1819 123.298 78.3584 117.799 74.938 112.949C71.5177 108.098 68.5095 103.883 66.0186 100.42C61.031 93.5016 58.116 89.5959 58.116 89.5959C58.0765 89.543 58.0482 89.4832 58.0327 89.4197C58.0172 89.3563 58.0149 89.2906 58.0258 89.2263C58.0367 89.162 58.0606 89.1004 58.0962 89.045C58.1318 88.9896 58.1784 88.9415 58.2333 88.9034C58.2882 88.8654 58.3504 88.8381 58.4162 88.8232C58.4821 88.8083 58.5504 88.806 58.6171 88.8165C58.6839 88.827 58.7478 88.8501 58.8053 88.8844C58.8629 88.9187 58.9128 88.9636 58.9523 89.0165H58.9613Z" fill="#DCE5FE"/>
<path d="M234.979 80.5677C256.638 107.142 376.029 266.758 240.643 401.578C240.643 401.578 133.95 315.99 229.883 81.2747C230.075 80.8067 230.392 80.3959 230.802 80.084C231.212 79.772 231.701 79.57 232.218 79.4982C232.735 79.4265 233.263 79.4876 233.748 79.6754C234.232 79.8632 234.657 80.171 234.979 80.5677Z" fill="#BDD0FB"/>
<path d="M235.92 114.487C235.92 114.487 240.378 130.101 246.088 153.749C247.52 159.66 249.024 166.075 250.564 172.872C252.105 179.669 253.687 186.843 255.227 194.283C256.767 201.724 258.314 209.425 259.812 217.262C260.53 221.185 261.255 225.135 261.987 229.11C262.663 233.088 263.391 237.075 264.032 241.076C264.673 245.077 265.356 249.067 265.927 253.068C266.226 255.065 266.527 257.056 266.83 259.039C267.133 261.023 267.409 263.006 267.66 264.988C267.931 266.964 268.2 268.931 268.466 270.89C268.733 272.848 268.975 274.799 269.191 276.742C269.694 280.619 270.094 284.461 270.503 288.239C271.309 295.792 271.935 303.111 272.404 310.062C272.873 317.013 273.18 323.596 273.307 329.677C273.424 332.716 273.403 335.631 273.406 338.404C273.406 339.791 273.406 341.143 273.406 342.46C273.406 343.773 273.337 345.048 273.307 346.285C273.222 348.756 273.198 351.074 273.075 353.212C272.952 355.351 272.816 357.315 272.702 359.088C272.645 359.975 272.591 360.827 272.539 361.603C272.488 362.38 272.38 363.133 272.308 363.82C272.166 365.196 272.046 366.363 271.947 367.314C271.751 369.209 271.646 370.211 271.646 370.211C271.63 370.363 271.583 370.511 271.508 370.646C271.433 370.78 271.33 370.9 271.207 370.996C270.959 371.192 270.64 371.284 270.321 371.253C270.002 371.222 269.709 371.07 269.506 370.83C269.303 370.591 269.207 370.284 269.239 369.976V369.921C269.239 369.921 269.351 368.922 269.54 367.047C269.643 366.109 269.769 364.952 269.916 363.594C269.992 362.914 270.073 362.184 270.157 361.403C270.211 360.621 270.27 359.79 270.334 358.911C270.455 357.153 270.59 355.206 270.734 353.088C270.879 350.97 270.903 348.669 271.002 346.215C271.038 344.987 271.099 343.721 271.12 342.417C271.141 341.113 271.12 339.769 271.138 338.389C271.138 335.634 271.183 332.734 271.083 329.697C270.99 323.648 270.713 317.094 270.289 310.169C269.865 303.244 269.273 295.943 268.508 288.407C268.123 284.641 267.744 280.804 267.263 276.934C267.034 275.002 266.805 273.055 266.574 271.092C266.343 269.13 266.086 267.166 265.801 265.199C265.536 263.227 265.271 261.247 265.004 259.26C264.737 257.272 264.449 255.284 264.14 253.294C263.584 249.304 262.937 245.312 262.305 241.316C261.674 237.321 260.982 233.334 260.326 229.359C259.618 225.39 258.916 221.441 258.22 217.515C256.764 209.692 255.29 201.979 253.765 194.544C252.24 187.11 250.715 179.93 249.223 173.13C247.731 166.33 246.251 159.918 244.855 154.007C239.292 130.362 234.943 114.745 234.943 114.745C234.912 114.62 234.934 114.489 235.002 114.378C235.071 114.268 235.181 114.188 235.31 114.155C235.438 114.121 235.576 114.137 235.692 114.199C235.809 114.261 235.896 114.365 235.935 114.487H235.92Z" fill="#DCE5FE"/>
<path d="M100.646 412.906C100.646 412.906 100.484 397.26 84.6486 384.663C69.9533 372.972 33.8094 346.374 25.603 329.207C25.239 328.448 23.9785 328.955 23.9605 329.87C23.7529 339.721 25.1848 363.958 42.0761 384.865C63.8587 411.843 100.646 412.906 100.646 412.906Z" fill="#91B3FA"/>
<path d="M31.2587 345.571C31.2587 345.571 31.3219 345.931 31.4934 346.585C31.6648 347.24 31.9386 348.202 32.3658 349.393C32.5643 349.996 32.823 350.647 33.1088 351.354C33.3946 352.061 33.7285 352.803 34.0835 353.623C34.4384 354.443 34.8987 355.251 35.3229 356.141C35.747 357.03 36.3096 357.914 36.827 358.862L38.6319 361.721C39.3148 362.672 39.9886 363.677 40.7377 364.671L41.9169 366.151C42.326 366.644 42.687 367.177 43.1382 367.658C44.0166 368.629 44.862 369.666 45.8156 370.639C46.7692 371.613 47.7378 372.604 48.7606 373.566C49.7834 374.528 50.8483 375.475 51.9313 376.417L55.3246 379.129C56.4737 380.015 57.683 380.908 58.8623 381.797C61.2418 383.562 63.6393 385.274 66.0158 386.966C68.3923 388.658 70.7538 390.289 73.0521 391.854L79.6852 396.383C81.791 397.831 83.7825 399.21 85.5964 400.523C87.4104 401.836 89.0288 403.107 90.4367 404.266C91.1376 404.846 91.7633 405.425 92.3559 405.953C92.9485 406.48 93.4389 407.016 93.9052 407.474C94.6046 408.211 95.2518 408.992 95.8425 409.812L96.4682 410.681C96.5172 410.743 96.5389 410.82 96.5285 410.897C96.5181 410.974 96.4763 411.044 96.4125 411.091C96.3487 411.138 96.268 411.159 96.1882 411.149C96.1083 411.139 96.0359 411.099 95.9868 411.038L95.9688 411.014L95.2859 410.223C94.6389 409.485 93.951 408.781 93.2253 408.114C92.741 407.697 92.2175 407.225 91.6249 406.732C91.0323 406.24 90.3675 405.727 89.6425 405.202C88.1955 404.142 86.5139 403.006 84.6548 401.789C82.7958 400.572 80.7441 399.289 78.5993 397.91L71.8187 393.563C69.4843 392.028 67.0808 390.426 64.6621 388.76C62.2435 387.094 59.8249 385.341 57.4243 383.576C56.2361 382.681 55.0508 381.815 53.8596 380.896L50.4091 378.06C49.3081 377.077 48.2492 376.063 47.1843 375.081C46.1194 374.099 45.2049 373.001 44.2362 371.987C43.2676 370.973 42.4494 369.86 41.58 368.831C40.7106 367.803 40.0037 366.69 39.2456 365.662C38.4875 364.633 37.8889 363.538 37.2391 362.533C36.6375 361.492 36.09 360.472 35.5665 359.496C35.0972 358.491 34.6159 357.546 34.2158 356.619C33.8157 355.692 33.4487 354.814 33.166 353.962C32.6315 352.512 32.1855 351.032 31.8303 349.532C31.5916 348.571 31.4068 347.598 31.2768 346.617C31.1865 345.939 31.1685 345.577 31.1685 345.577C31.1676 345.572 31.1678 345.567 31.1691 345.563C31.1703 345.558 31.1726 345.554 31.1757 345.55C31.1788 345.546 31.1827 345.543 31.1872 345.54C31.1916 345.538 31.1965 345.537 31.2016 345.537C31.2077 345.535 31.2142 345.534 31.2205 345.535C31.2268 345.536 31.2329 345.538 31.2383 345.542C31.2437 345.545 31.2483 345.549 31.2518 345.554C31.2554 345.559 31.2577 345.565 31.2587 345.571Z" fill="#DCE5FE"/>
<path d="M44.9156 236.237C44.9848 235.927 45.1597 235.648 45.4123 235.444C45.6649 235.241 45.9809 235.125 46.3099 235.114C46.639 235.103 46.9623 235.199 47.2286 235.385C47.4948 235.572 47.6887 235.839 47.7794 236.144C51.8134 249.909 63.5696 285.689 81.5949 304.652C110.946 335.535 130.53 385.727 111.807 411.768C111.807 411.768 9.92682 393.88 44.9156 236.237Z" fill="#BDD0FB"/>
<path d="M48.3299 255.869C48.3299 255.869 48.3539 256.014 48.393 256.298C48.4321 256.582 48.5224 256.982 48.6217 257.518C48.8292 258.607 49.1722 260.201 49.6024 262.229C50.0325 264.257 50.5921 266.714 51.2659 269.527C51.9397 272.341 52.7429 275.499 53.6063 278.949C54.4697 282.4 55.4834 286.121 56.6145 290.044C57.7456 293.967 58.967 298.087 60.2635 302.343C61.5601 306.599 62.9709 310.974 64.5021 315.381C64.8842 316.485 65.2632 317.595 65.6483 318.707L66.8515 322.039C67.6367 324.27 68.494 326.487 69.3273 328.703C70.1606 330.92 71.0751 333.122 71.9234 335.332L74.6038 341.866C75.5423 344.01 76.4358 346.151 77.3864 348.24C78.337 350.329 79.2515 352.401 80.2412 354.4C82.1664 358.425 84.1248 362.269 86.041 365.888C87.9573 369.507 89.8916 372.862 91.7146 375.939C92.6551 377.461 93.5576 378.917 94.422 380.306C95.3004 381.682 96.1668 382.965 96.9609 384.185L98.1281 385.947L99.2682 387.549L101.281 390.374C102.532 392.054 103.555 393.347 104.232 394.245L105.282 395.612C105.306 395.643 105.324 395.678 105.335 395.715C105.345 395.752 105.348 395.791 105.343 395.829C105.338 395.867 105.325 395.904 105.305 395.937C105.286 395.971 105.259 396 105.228 396.024C105.196 396.047 105.16 396.065 105.121 396.075C105.083 396.085 105.042 396.088 105.003 396.083C104.963 396.078 104.925 396.066 104.89 396.047C104.855 396.028 104.825 396.002 104.8 395.972L103.687 394.642C102.971 393.773 101.882 392.518 100.574 390.875L98.468 388.097L97.2648 386.518C96.8637 385.961 96.4535 385.382 96.0344 384.779C95.1981 383.577 94.2746 382.313 93.3601 380.949L90.5534 376.603C88.6552 373.54 86.6427 370.2 84.6452 366.592C82.6478 362.985 80.6383 359.137 78.6799 355.101C77.6691 353.093 76.7546 351.007 75.7649 348.921C74.7752 346.835 73.8848 344.679 72.9282 342.53C72.0197 340.358 71.1072 338.175 70.1907 335.979C69.3183 333.765 68.4339 331.549 67.6036 329.315C66.7733 327.081 65.928 324.847 65.1519 322.604C64.7508 321.484 64.3567 320.367 63.9697 319.252C63.5826 318.138 63.2056 317.022 62.8386 315.906C61.3344 311.461 59.9627 307.054 58.6571 302.786C57.3516 298.518 56.2265 294.349 55.1886 290.394C54.1508 286.439 53.2122 282.69 52.3699 279.225C50.7304 272.271 49.5663 266.456 48.7961 262.371C48.4171 260.325 48.1464 258.714 47.9779 257.613C47.8937 257.051 47.8305 256.619 47.7884 256.33L47.7403 255.895C47.7357 255.857 47.7391 255.818 47.7503 255.781C47.7615 255.744 47.7802 255.709 47.8054 255.679C47.8307 255.649 47.8618 255.625 47.8971 255.606C47.9324 255.588 47.9711 255.577 48.011 255.573C48.089 255.565 48.1673 255.587 48.2291 255.633C48.2909 255.68 48.3314 255.748 48.3419 255.823L48.3299 255.869Z" fill="#DCE5FE"/>
<path d="M352.61 419.985C352.61 419.985 381.047 200.336 476.961 72.0581C483.408 63.4356 497.191 65.0494 501.241 74.9352C528.315 141.03 588.858 343.784 352.61 419.985Z" fill="#91B3FA"/>
<path d="M373.195 403.853C373.085 403.965 373.026 404.116 373.031 404.271C373.036 404.426 373.105 404.572 373.222 404.678C373.339 404.784 373.496 404.841 373.656 404.836C373.817 404.831 373.969 404.765 374.08 404.652C394.713 386.213 472.581 298.076 486.813 137.226C486.818 137.123 486.784 137.023 486.716 136.943C486.648 136.864 486.552 136.812 486.447 136.798C486.341 136.783 486.234 136.807 486.146 136.865C486.058 136.923 485.995 137.01 485.971 137.11C479.211 174.758 449.875 314.046 373.195 403.853Z" fill="#DCE5FE"/>
<path d="M654.507 225.447C654.786 225.355 655.025 225.175 655.183 224.936C655.342 224.697 655.412 224.413 655.381 224.131C655.35 223.849 655.221 223.585 655.014 223.383C654.807 223.181 654.535 223.052 654.242 223.019C632.21 220.594 551.045 216.392 476.122 273.178C407.573 325.134 368.313 372.402 354.448 390.551C353.821 391.37 353.428 392.333 353.308 393.344C353.188 394.355 353.344 395.378 353.762 396.313C354.18 397.247 354.845 398.06 355.691 398.67C356.536 399.28 357.533 399.667 358.581 399.791C385.8 403.015 462.504 408.193 503.716 371.338C552.964 327.29 591.818 246.235 654.507 225.447Z" fill="#91B3FA"/>
<path d="M582.932 247.716C582.932 247.716 506.965 257.97 359.901 392.399C359.901 392.399 515.129 264.839 582.932 247.716Z" fill="#DCE5FE"/>
<defs>
<linearGradient id="paint0_linear" x1="-0.000163451" y1="213.498" x2="655.921" y2="213.498" gradientUnits="userSpaceOnUse">
<stop stopColor="#9EB5F9"/>
<stop offset="1" stopColor="#E9EFFD"/>
</linearGradient>
</defs>
</svg>

            <div className="col-md-6 mx-auto">
                <h4 className= "requestArticleHeader text-center mx-auto my-3">Whose experience you wanna know?</h4>
                <div className="requestArticleBox col-md-10 mx-auto p-4">
                    <form onSubmit={this.handleSubmitForm}>
                        <h4 className="requestArticleHeadLabel m-0">Basic Information</h4>
                        <p className="requestArticleParaLabel">This info is mandatory to fill to request an article</p>

                        <div className="row">
                            <div className="form-group col">
                                <input type="text"  className="articleRequestTextBox form-control" placeholder="Your Name"
                                value={requestDetail.name}
                                required onChange={this.handleInputValue('name')}/>
                            </div>
                            <div className="form-group col">
                                <input type="text" className="articleRequestTextBox form-control" placeholder="Senior's Name" 
                                value={requestDetail.senior}
                                required onChange={this.handleInputValue('senior')}/>
                            </div>
                        </div>

                        <div className="form-group">
                            <input type="text" className="articleRequestTextBox form-control" placeholder="Company/Corporation Name" 
                             value={requestDetail.company} required onChange={this.handleInputValue('company')}/>
                        </div>

                        <h4 className="requestArticleHeadLabel m-0">Social Links</h4>
                        <p className="requestArticleParaLabel">These links will be helpul for us to contact them (eg : www.linkedin.com/in/alpha-pandey/)</p>

                        <div className="form-group">
                            <input type="text" className="articleRequestTextBox form-control" placeholder="Enter senior's any social media link " pattern="(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})" 
                            value={requestDetail.socialLink}
                            required onChange={this.handleInputValue('socialLink')}/>
                        </div>
                        <h4 className="requestArticleHeadLabel m-0">Personal Note</h4>
                        <div className="form-group">
                            <textarea type="text" className="articleRequestTextBox form-control" placeholder="Enter your personal note (optional) " 
                             value={requestDetail.note} onChange={this.handleInputValue('note')}/>
                        </div>

                       

                        <button type="submit" className="requestArticleButton my-2">Send Request <i className="fa fa-paper-plane" aria-hidden="true"></i></button>
                    </form>
                </div>

            </div>
          
        </>
        )
    }
}

export default RequestArticle